<div class="my-10 mx-auto max-w-6xl flex flex-col md:flex-row gap-4">
  <!-- 田字格练习纸 -->
  <div class="flex-1 border border-gray-300 border-dashed shadow">
    <div class="px-8 py-10 relative">
      <div class="bg-grid absolute inset-0"></div>
      <%= turbo_frame_tag @copy, loading: "lazy", data: { turbo_action: "advance" } do %>
        <div class="flex flex-wrap">
          <% @copy.characters.each do |pinyin, character| %>
            <div class="flex flex-col w-15">
              <%= chinese_pinyin(pinyin) %>
              <% if @copy.hidden_character %>
                <%= chinese_character %>
              <% else %>
                <%= chinese_character(character) %>
              <% end %>
            </div>
          <% end %>
        </div>
      <% end %>
    </div>
  </div>

  <div class="p-4 flex flex-col gap-4 rounded shadow print:hidden">
    <%= form_with model: @copy, url: new_copy_path, method: :get, data: { turbo_frame: dom_id(@copy) } do |f| %>
      <%= f.textarea :chinese, class: "textarea", rows: 10, autofocus: true, placeholder: "请输入字体" %>
      <div class="mt-4 flex items-center justify-between">
        <%= f.label :hidden_character, "隐藏文字" %>
        <%= f.check_box :hidden_character, class: "toggle" %>
      </div>
      <button class="btn btn-neutral mt-4">
        生成字贴
      </button>
    <% end %>
  </div>
</div>

<style>
.bg-grid {
  background-size: 20px 20px;
  background-image: repeating-linear-gradient(-45deg,var(--color-base-100),var(--color-base-100)13px,var(--color-base-300)13px,var(--color-base-300)14px);
}
</style>
