<div class="relative min-h-screen bg-white text-black overflow-hidden selection:bg-black selection:text-white">
  <!-- Canvas Background -->
  <canvas id="bg-canvas" class="absolute inset-0 w-full h-full opacity-40 pointer-events-none"></canvas>

  <!-- Navigation -->
  <nav class="relative z-10 px-6 py-6 flex justify-between items-center max-w-7xl mx-auto">
    <div class="text-2xl font-bold tracking-tighter">COPYBOOK</div>
    <div class="hidden md:flex gap-8 text-sm font-medium text-gray-600">
      <a href="#features" class="hover:text-black transition-colors">Features</a>
      <a href="#" class="hover:text-black transition-colors">About</a>
    </div>
    <%= link_to "Get Started", new_copy_path, class: "px-5 py-2 bg-black text-white text-sm font-bold rounded-full hover:bg-gray-800 transition-colors" %>
  </nav>

  <!-- Hero Section -->
  <div class="relative z-10 flex flex-col items-center justify-center px-4 pt-20 pb-32 text-center max-w-4xl mx-auto">
    <!-- Animated Slogan -->
    <h1 class="animate-slogan text-5xl md:text-7xl lg:text-8xl font-bold tracking-tighter leading-tight mb-8">
      <span class="block">Master Chinese</span>
      <span class="block text-gray-500">One Stroke at a Time</span>
    </h1>

    <p class="animate-fade-in-up delay-200 text-lg md:text-xl text-gray-600 mb-12 max-w-2xl mx-auto">
      Generate custom pinyin practice sheets instantly. The ultimate tool for students and calligraphy enthusiasts.
    </p>

    <!-- Quick Action Form -->
    <div class="animate-fade-in-up delay-400 w-full max-w-2xl bg-white/50 backdrop-blur-sm border border-gray-200 rounded-2xl p-2 md:p-4 shadow-2xl shadow-black/5">
      <%= form_with url: new_copy_path, method: :get, class: "flex flex-col gap-4" do |f| %>
        <div class="relative">
          <%= f.text_area :chinese, name: "copy[chinese]", rows: 3,
              class: "w-full bg-transparent text-black text-lg placeholder-gray-400 border-none focus:ring-0 resize-none p-4",
              placeholder: "Paste your Chinese text here to generate a copybook..." %>
          <div class="absolute bottom-2 right-2 text-xs text-gray-400">Try it now</div>
        </div>
        <div class="flex justify-between items-center border-t border-gray-100 pt-3 px-2">
          <div class="text-sm text-gray-500 flex gap-4">
            <span><span class="text-black">A4</span> Print Ready</span>
            <span><span class="text-black">Smart</span> Pinyin</span>
          </div>
          <button type="submit" class="group flex items-center gap-2 bg-black text-white px-6 py-2.5 rounded-full font-bold hover:bg-gray-800 transition-all transform hover:scale-105 active:scale-95">
            Generate
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-4 h-4 group-hover:translate-x-1 transition-transform">
              <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
            </svg>
          </button>
        </div>
      <% end %>
    </div>
  </div>

  <!-- Features Section (Minimalist) -->
  <div id="features" class="relative z-10 border-t border-gray-100 bg-white">
    <div class="max-w-7xl mx-auto px-6 py-24">
      <div class="grid md:grid-cols-3 gap-12">
        <div class="group">
          <div class="w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mb-6 group-hover:bg-black group-hover:text-white transition-colors duration-300">
            <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
            </svg>
          </div>
          <h3 class="text-xl font-bold mb-3">Custom Content</h3>
          <p class="text-gray-500 leading-relaxed">Input any characters or sentences. We handle the formatting and layout automatically.</p>
        </div>
        <div class="group">
          <div class="w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mb-6 group-hover:bg-black group-hover:text-white transition-colors duration-300">
            <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129" />
            </svg>
          </div>
          <h3 class="text-xl font-bold mb-3">Smart Pinyin</h3>
          <p class="text-gray-500 leading-relaxed">Automatic pinyin annotation ensures you learn the correct pronunciation while writing.</p>
        </div>
        <div class="group">
          <div class="w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mb-6 group-hover:bg-black group-hover:text-white transition-colors duration-300">
            <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z" />
            </svg>
          </div>
          <h3 class="text-xl font-bold mb-3">Print Perfect</h3>
          <p class="text-gray-500 leading-relaxed">Optimized for A4 paper size. Get clean, crisp practice sheets straight from your printer.</p>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-slogan span {
    opacity: 0;
    animation: fadeInUp 0.8s ease-out forwards;
  }

  .animate-slogan span:nth-child(1) {
    animation-delay: 0.1s;
  }

  .animate-slogan span:nth-child(2) {
    animation-delay: 0.3s;
  }

  .animate-fade-in-up {
    opacity: 0;
    animation: fadeInUp 0.8s ease-out forwards;
  }

  .delay-200 {
    animation-delay: 0.5s;
  }

  .delay-400 {
    animation-delay: 0.7s;
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const canvas = document.getElementById('bg-canvas');
    const ctx = canvas.getContext('2d');
    let width, height;
    let particles = [];

    function resize() {
      width = canvas.width = window.innerWidth;
      height = canvas.height = window.innerHeight;
    }

    class Particle {
      constructor() {
        this.x = Math.random() * width;
        this.y = Math.random() * height;
        this.vx = (Math.random() - 0.5) * 0.5;
        this.vy = (Math.random() - 0.5) * 0.5;
        this.size = Math.random() * 2;
        this.alpha = Math.random() * 0.5 + 0.1;
      }

      update() {
        this.x += this.vx;
        this.y += this.vy;

        if (this.x < 0) this.x = width;
        if (this.x > width) this.x = 0;
        if (this.y < 0) this.y = height;
        if (this.y > height) this.y = 0;
      }

      draw() {
        ctx.fillStyle = `rgba(0, 0, 0, ${this.alpha})`;
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
        ctx.fill();
      }
    }

    function init() {
      particles = [];
      for (let i = 0; i < 50; i++) {
        particles.push(new Particle());
      }
    }

    function animate() {
      ctx.clearRect(0, 0, width, height);

      particles.forEach(p => {
        p.update();
        p.draw();
      });

      // Draw connections
      particles.forEach((p1, i) => {
        particles.slice(i + 1).forEach(p2 => {
          const dx = p1.x - p2.x;
          const dy = p1.y - p2.y;
          const distance = Math.sqrt(dx * dx + dy * dy);

          if (distance < 150) {
            ctx.strokeStyle = `rgba(0, 0, 0, ${0.1 * (1 - distance / 150)})`;
            ctx.lineWidth = 0.5;
            ctx.beginPath();
            ctx.moveTo(p1.x, p1.y);
            ctx.lineTo(p2.x, p2.y);
            ctx.stroke();
          }
        });
      });

      requestAnimationFrame(animate);
    }

    window.addEventListener('resize', resize);
    resize();
    init();
    animate();
  });
</script>
